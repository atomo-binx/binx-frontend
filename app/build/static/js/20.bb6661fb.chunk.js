(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[20],{217:function(e,t,a){},219:function(e,t,a){"use strict";var s=a(25),r=a(3),n=a(7),c=a(46),o=a(45),i=a(561),d=a(548),l=a(384),j=a(560),b=a(550),u=a(222),O=a.p+"static/media/logo_3.edbd2b14.png",x=a(47),h=(a(217),a(4));t.a=function(e){Object(n.g)();var t=Object(r.useState)(!1),a=Object(s.a)(t,2),m=a[0],p=a[1],f=Object(r.useState)(!1),v=Object(s.a)(f,2),g=v[0],S=v[1],w=Object(r.useState)(!1),C=Object(s.a)(w,2),y=C[0],E=C[1],P=Object(r.useState)(!1),N=Object(s.a)(P,2),F=N[0],k=N[1],T=Object(r.useState)(!1),A=Object(s.a)(T,2),M=A[0],_=A[1],B=Object(r.useState)(!1),I=Object(s.a)(B,2),R=I[0],z=I[1],K=Object(r.useState)(!1),L=Object(s.a)(K,2),D=(L[0],L[1]),q=Object(r.useState)(!1),H=Object(s.a)(q,2),U=H[0],V=H[1],W=Object(r.useState)(!1),G=Object(s.a)(W,2),J=G[0],Q=G[1],X=Object(r.useState)(!1),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(r.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],se=te[1],re=Object(r.useState)(!1),ne=Object(s.a)(re,2),ce=ne[0],oe=ne[1],ie=Object(r.useState)(""),de=Object(s.a)(ie,2),le=de[0],je=de[1],be=Object(r.useContext)(x.a);return Object(r.useEffect)((function(){var e=window.location.pathname;e.includes("vendas")&&D(!0),e.includes("compras")&&V(!0),e.includes("aprovarpedidos")&&Q(!0),e.includes("relatorio")&&$(!0),e.includes("prospeccao")&&D(!0),e.includes("produtos")&&se(!0),console.log(be),je(be?be.attributes["custom:displayname"]:"Convidado")}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(i.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:Object(h.jsxs)(d.a,{fluid:!0,children:[Object(h.jsx)(c.b,{to:"/",className:"m-0 p-0",children:Object(h.jsx)(i.a.Brand,{className:"",children:Object(h.jsx)("img",{src:O,width:"70",alt:"Logo Binx"})})}),Object(h.jsx)(i.a.Toggle,{}),e.logged&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.a.Collapse,{children:Object(h.jsxs)(l.a,{className:"mr-auto",navbarScroll:!0,children:[Object(h.jsxs)(j.a,{title:"Vendas",show:m,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(h.jsx)(j.a.Item,{as:c.b,href:"/fretevendas",to:"/fretevendas",children:"C\xe1lculo de Frete"}),Object(h.jsx)(j.a.Item,{as:c.b,href:"/calculomargem",to:"/calculomargem",children:"C\xe1lculo de Margem"}),Object(h.jsx)(j.a.Item,{as:c.b,href:"/prospeccao",to:"/prospeccao",children:"Prospec\xe7\xe3o de Clientes"})]}),Object(h.jsx)(j.a,{title:"Compras",show:g,onMouseEnter:function(){return S(!g)},onMouseLeave:function(){return S(!1)},active:U,children:Object(h.jsx)(j.a.Item,{as:c.b,href:"/dashcompras",to:"/dashcompras",children:"Dashboard de Compras"})}),Object(h.jsx)(j.a,{title:"Expedi\xe7\xe3o",show:y,onMouseEnter:function(){return E(!y)},onMouseLeave:function(){return E(!1)},active:J,children:Object(h.jsx)(j.a.Item,{href:"expedicao/aprovarpedidos",to:"/aprovarpedidos",children:"Aprova\xe7\xe3o de Pedidos"})}),Object(h.jsx)(j.a,{title:"Relat\xf3rios",show:F,onMouseEnter:function(){return k(!F)},onMouseLeave:function(){return k(!1)},active:Z,children:Object(h.jsx)(j.a.Item,{href:"/relatoriominmax",to:"/relatoriominmax",children:"Estoque M\xednimo e M\xe1ximo"})}),Object(h.jsx)(j.a,{title:"Cadastros",show:M,onMouseEnter:function(){return _(!M)},onMouseLeave:function(){return _(!1)},active:ae,children:Object(h.jsx)(j.a.Item,{href:"/produtos",to:"/produtos",children:"Produtos"})})]})}),Object(h.jsx)(i.a.Collapse,{className:"justify-content-end",children:Object(h.jsxs)(l.a,{className:"mr-auto",navbarScroll:!0,children:[Object(h.jsx)(u.l,{}),Object(h.jsx)(j.a,{className:"dropdown-user",title:Object(h.jsxs)("div",{className:"user-dropdown-div ",children:[Object(h.jsx)("div",{className:"m-0",children:Object(h.jsx)(u.l,{size:25})}),Object(h.jsx)("div",{className:"user-name",children:le})]}),show:R,onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)},children:Object(h.jsxs)(j.a.Item,{onClick:function(){oe(!0),o.a.signOut().then((function(e){window.location.reload()})).catch((function(e){oe(!1)}))},children:[!ce&&Object(h.jsx)(h.Fragment,{children:"Sair"}),ce&&Object(h.jsxs)("div",{className:"user-menu-sair",children:[Object(h.jsx)("p",{children:"Sair"}),Object(h.jsx)(b.a,{animation:"grow",size:"sm"})]})]})})]})})]})]})})})}},221:function(e,t,a){"use strict";var s=a(18),r=a.n(s),n="development"===(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REGION:"sa-east-1",REACT_APP_USER_POOL_ID:"sa-east-1_KNPIRnW6Q",REACT_APP_USER_POOL_WEB_CLIENT_ID:"5tqcc1d7iv1vt8fg309nnfe8q7"}).REACT_APP_ENVIROMENT||"development")?"http://localhost:4005/api":"https://api.binx.com.br/api",c=r.a.create({baseURL:n});t.a=c},535:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var s=a(70),r=a(223),n=a.n(r),c=a(224),o=a(25),i=a(3),d=a(219),l=(a(315),a(316),a(317)),j=a.n(l),b=a(322),u=a.n(b),O=a(323),x=a.n(O),h=(a(535),a(4));var m=function(e){var t=Object(i.useState)([]),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(i.useState)(!0),c=Object(o.a)(n,2),d=c[0];c[1],Object(i.useEffect)((function(){r(e.resultados)}),e.resultados);var l={"Sem Curva":"Sem Curva","Curva A":"Curva A","Curva B":"Curva B","Curva C":"Curva C"},O={alwaysShowAllBtns:!0,showTotal:!0,disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return Object(h.jsxs)("span",{className:"react-bootstrap-table-pagination-total mx-3",children:[a," Resultados"]})},firstPageText:"Primeira",prePageText:"Anterior",nextPageText:"Pr\xf3xima",lastPageText:"\xdaltima",nextPageTitle:"Primeira P\xe1gina",prePageTitle:"P\xe1gina Anterior",firstPageTitle:"Pr\xf3xima P\xe1gina",lastPageTitle:"\xdaltima P\xe1gina"},m=[{dataField:"idsku",text:"SKU",style:{width:"2%",textAlign:"center"},headerStyle:{textAlign:"center"},filter:Object(b.textFilter)({placeholder:"SKU",style:{fontSize:"0.8rem"}})},{dataField:"nome",text:"Nome",filter:Object(b.textFilter)({placeholder:"Nome",style:{fontSize:"0.8rem",width:"100%"}}),headerStyle:{width:"20%"}},{dataField:"curva",text:"Curva",formatter:function(e){return l[e]},filter:Object(b.selectFilter)({options:l,placeholder:"Curva",style:{fontSize:"0.8rem"}}),headerStyle:{width:"9%"}},{dataField:"contador",text:"Cont",headerStyle:{width:"9%",textAlign:"left"},sort:!0},{dataField:"total",text:"Vendido",headerStyle:{width:"10%"},sort:!0},{dataField:"destoantes",text:"Dest",sort:!0,headerStyle:{width:"7%"}},{dataField:"considerar",text:"Total",sort:!0,headerStyle:{width:"7%"}},{dataField:"meses",text:"Meses",sort:!0,headerStyle:{width:"8%"}},{dataField:"mediames",text:"M\xe9dia",sort:!0,headerStyle:{width:"9%"}},{dataField:"minimo",text:"Min",sort:!0,headerStyle:{width:"7%"}},{dataField:"maximo",text:"Max",sort:!0,headerStyle:{width:"7%"}}];return Object(h.jsx)(h.Fragment,{children:d&&Object(h.jsx)(j.a,{bootstrap4:!0,keyField:"idsku",data:s,columns:m,condensed:!1,hover:!0,bordered:!1,filter:u()(),style:{fontSize:"0.8rem"},filterPosition:"top",pagination:x()(O)})})},p=a(536),f=a.n(p),v=a(221),g=a(268),S=a(279),w=a(387);var C=function(e){var t=e.showExport,a=e.handleClose,s=e.setShowExport,r=e.objExportar,d=Object(i.useState)(!1),l=Object(o.a)(d,2),j=l[0],b=l[1],u=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,v.a.post("exportarbinxbling",{exportar:r}).then((function(e){console.log("Exporta\xe7\xe3o dos dados para o Binx e Bling iniciada")})).catch((function(e){console.log("Erro ao exportar dados para o Binx e Bling"),b(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(g.a,{Modal:!0,show:t,onHide:a,centered:!0,size:"md",children:[Object(h.jsx)(g.a.Header,{closeButton:!0,children:Object(h.jsx)(g.a.Title,{children:"Exportar An\xe1lise para o Binx e Bling"})}),Object(h.jsxs)(g.a.Body,{children:[!j&&Object(h.jsx)(S.a,{variant:"warning",children:"Ao exportar a an\xe1lise, os valores de estoque m\xednimo, m\xe1ximo e curva ser\xe3o sobrescritos, confira os par\xe2metros utilizados."}),j&&Object(h.jsx)(S.a,{variant:"success",className:"",children:"O procedimento de exporta\xe7\xe3o foi iniciado e est\xe1 sendo executado em segundo plano, e pode levar v\xe1rios minutos para ser conclu\xeddo."}),Object(h.jsx)(S.a,{variant:"secondary",children:"Ainda n\xe3o \xe9 poss\xedvel realizar a exporta\xe7\xe3o para o Bling, a exporta\xe7\xe3o ser\xe1 realiza apenas para o Binx e afetar\xe1 apenas as informa\xe7\xf5es no dashboard de compras."})]}),Object(h.jsxs)(g.a.Footer,{children:[Object(h.jsx)(w.a,{variant:"primary",disabled:!!j,onClick:u,children:"Exportar"}),Object(h.jsx)(w.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Fechar"})]})]})})};var y=function(e){var t=e.showInfo,a=e.handleClose,s=e.setShowInfo;return e.estatisticas,Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(g.a,{Modal:!0,show:t,onHide:a,centered:!0,size:"md",children:[Object(h.jsx)(g.a.Header,{closeButton:!0,children:Object(h.jsx)(g.a.Title,{children:"Informa\xe7\xf5es sobre a an\xe1lise realizada"})}),Object(h.jsx)(g.a.Body,{children:"..."}),Object(h.jsx)(g.a.Footer,{children:Object(h.jsx)(w.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Fechar"})})]})})},E=a(548),P=a(553),N=a(570),F=a(258),k=a(550),T=a(555),A=a(574),M=a(222);t.default=function(){var e,t=Object(i.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],j=Object(i.useState)(!1),b=Object(o.a)(j,2),u=b[0],O=b[1],x=Object(i.useState)([]),p=Object(o.a)(x,2),g=p[0],_=p[1],B=Object(i.useState)([]),I=Object(o.a)(B,2),R=I[0],z=I[1],K=Object(i.useState)([]),L=Object(o.a)(K,2),D=L[0],q=L[1],H=Object(i.useState)([]),U=Object(o.a)(H,2),V=U[0],W=U[1],G=Object(i.useState)([]),J=Object(o.a)(G,2),Q=J[0],X=J[1],Y=Object(i.useState)([]),Z=Object(o.a)(Y,2),$=Z[0],ee=Z[1],te=Object(i.useState)([]),ae=Object(o.a)(te,2),se=ae[0],re=ae[1],ne=Object(i.useState)({}),ce=Object(o.a)(ne,2),oe=ce[0],ie=ce[1],de=Object(i.useState)([]),le=Object(o.a)(de,2),je=le[0],be=le[1],ue=Object(i.useState)(!1),Oe=Object(o.a)(ue,2),xe=Oe[0],he=Oe[1],me=Object(i.useState)(!1),pe=Object(o.a)(me,2),fe=pe[0],ve=pe[1],ge=function(){he(!1),ve(!1)},Se=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),O(!1),e.next=4,v.a.get("/minmax").then((function(e){z(e.data.acessorios),q(e.data.componentes),W(e.data.ferramentas),X(e.data.motores),ee(e.data.maker),_(e.data.semCategoria),re(e.data.semVenda),ie(e.data.estatisticas);var t=[e.data.semCategoria,e.data.acessorios,e.data.componentes,e.data.ferramentas,e.data.motores,e.data.maker,e.data.maker,e.data.semVenda];be(t),l(!1),O(!0)})).catch((function(e){console.log("Erro"),l(!1),O(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/exportarminmax",{responseType:"arraybuffer"}).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});f()(t,"minmax.xlsx"),console.log("Sucesso na exporta\xe7\xe3o do arquivo excel")})).catch((function(e){console.log("Erro na exporta\xe7\xe3o do arquivo excel"),console.log(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{logged:!0}),Object(h.jsx)(E.a,{className:"mt-4",fluid:"lg",children:Object(h.jsx)(P.a,{children:Object(h.jsxs)(N.a,{className:"p-3",style:{width:"115%"},children:[Object(h.jsx)(N.a.Title,{className:"mt-2",children:"An\xe1lise de Estoque M\xednimo e M\xe1ximo"}),Object(h.jsx)(N.a.Subtitle,{className:"my-2 text-muted",children:"A an\xe1lise \xe9 executada conforme os par\xe2metros salvos"}),Object(h.jsxs)(P.a,{className:"my-3",children:[Object(h.jsx)(F.a,{children:Object(h.jsx)("div",{className:"d-grid gap-2",children:Object(h.jsxs)(w.a,{block:!0,variant:"primary",onClick:Se,children:[r&&Object(h.jsx)(k.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),!r&&Object(h.jsxs)(h.Fragment,{children:["Gerar Nova An\xe1lise ",Object(h.jsx)(M.c,{})]})]})})}),Object(h.jsx)(F.a,{children:Object(h.jsx)("div",{className:"d-grid gap-2",children:Object(h.jsxs)(w.a,(e={block:!0,variant:"primary",disabled:!!r},Object(s.a)(e,"disabled",!0),Object(s.a)(e,"children",["Configurar ",Object(h.jsx)(M.j,{})]),e))})}),Object(h.jsx)(F.a,{children:Object(h.jsx)("div",{className:"d-grid gap-2",children:Object(h.jsxs)(w.a,{block:!0,variant:"secondary",disabled:!0,onClick:function(){return ve(!0)},children:["Informa\xe7\xf5es ",Object(h.jsx)(M.k,{})]})})}),Object(h.jsx)(F.a,{children:Object(h.jsx)("div",{className:"d-grid gap-2",children:Object(h.jsxs)(w.a,{block:!0,variant:"success",disabled:!u,onClick:function(){return he(!0)},children:["Exportar Binx/Bling ",Object(h.jsx)(M.b,{})]})})}),Object(h.jsx)(F.a,{children:Object(h.jsx)("div",{className:"d-grid gap-2",children:Object(h.jsxs)(w.a,{block:!0,variant:"info",disabled:!u,onClick:we,children:["Exportar Planilha ",Object(h.jsx)(M.d,{})]})})})]}),!r&&!u&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(S.a,{className:"mt-2",variant:"warning",children:"Realize uma nova ana\u013aise para visualizar os resultados."})}),Object(h.jsxs)(N.a.Body,{children:[r&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(E.a,{className:"text-center",children:Object(h.jsx)(k.a,{as:"span",animation:"border",size:"lg",role:"status","aria-hidden":"true"})})}),!r&&u&&Object(h.jsxs)(T.a,{defaultActiveKey:"acessorios",id:"uncontrolled-tab-example",className:"mb-3",variant:"tabs",children:[Object(h.jsx)(A.a,{eventKey:"acessorios",title:"Acess\xf3rios",children:Object(h.jsx)(m,{resultados:R})}),Object(h.jsx)(A.a,{eventKey:"componentes",title:"Componentes",children:Object(h.jsx)(m,{resultados:D})}),Object(h.jsx)(A.a,{eventKey:"ferramentas",title:"Ferramentas",children:Object(h.jsx)(m,{resultados:V})}),Object(h.jsx)(A.a,{eventKey:"motores",title:"Motores",children:Object(h.jsx)(m,{resultados:Q})}),Object(h.jsx)(A.a,{eventKey:"maker",title:"Maker",children:Object(h.jsx)(m,{resultados:$})}),Object(h.jsx)(A.a,{eventKey:"sem-categoria",title:"Sem Categoria",children:Object(h.jsx)(m,{resultados:g})}),Object(h.jsx)(A.a,{eventKey:"sem-venda",title:"Sem Venda",children:Object(h.jsx)(m,{resultados:se})})]})]})]})})}),Object(h.jsx)(C,{showExport:xe,handleClose:ge,setShowExport:he,objExportar:je}),Object(h.jsx)(y,{showInfo:fe,handleClose:ge,setShowInfo:ve,estatisticas:oe})]})}}}]);
//# sourceMappingURL=20.bb6661fb.chunk.js.map