(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{217:function(e,t,a){},219:function(e,t,a){"use strict";var s=a(25),c=a(3),r=a(7),n=a(46),i=a(45),o=a(561),l=a(548),j=a(384),d=a(560),b=a(550),u=a(222),O=a.p+"static/media/logo_3.edbd2b14.png",h=a(47),x=(a(217),a(4));t.a=function(e){Object(r.g)();var t=Object(c.useState)(!1),a=Object(s.a)(t,2),m=a[0],p=a[1],f=Object(c.useState)(!1),v=Object(s.a)(f,2),g=v[0],N=v[1],C=Object(c.useState)(!1),S=Object(s.a)(C,2),w=S[0],y=S[1],P=Object(c.useState)(!1),E=Object(s.a)(P,2),I=E[0],M=E[1],L=Object(c.useState)(!1),_=Object(s.a)(L,2),z=_[0],D=_[1],R=Object(c.useState)(!1),T=Object(s.a)(R,2),V=T[0],F=T[1],A=Object(c.useState)(!1),k=Object(s.a)(A,2),G=(k[0],k[1]),U=Object(c.useState)(!1),B=Object(s.a)(U,2),$=B[0],q=B[1],K=Object(c.useState)(!1),W=Object(s.a)(K,2),H=W[0],J=W[1],Q=Object(c.useState)(!1),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],ee=Object(c.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],se=te[1],ce=Object(c.useState)(!1),re=Object(s.a)(ce,2),ne=re[0],ie=re[1],oe=Object(c.useState)(""),le=Object(s.a)(oe,2),je=le[0],de=le[1],be=Object(c.useContext)(h.a);return Object(c.useEffect)((function(){var e=window.location.pathname;e.includes("vendas")&&G(!0),e.includes("compras")&&q(!0),e.includes("aprovarpedidos")&&J(!0),e.includes("relatorio")&&Z(!0),e.includes("prospeccao")&&G(!0),e.includes("produtos")&&se(!0),console.log(be),de(be?be.attributes["custom:displayname"]:"Convidado")}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(o.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:Object(x.jsxs)(l.a,{fluid:!0,children:[Object(x.jsx)(n.b,{to:"/",className:"m-0 p-0",children:Object(x.jsx)(o.a.Brand,{className:"",children:Object(x.jsx)("img",{src:O,width:"70",alt:"Logo Binx"})})}),Object(x.jsx)(o.a.Toggle,{}),e.logged&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.a.Collapse,{children:Object(x.jsxs)(j.a,{className:"mr-auto",navbarScroll:!0,children:[Object(x.jsxs)(d.a,{title:"Vendas",show:m,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(x.jsx)(d.a.Item,{as:n.b,href:"/fretevendas",to:"/fretevendas",children:"C\xe1lculo de Frete"}),Object(x.jsx)(d.a.Item,{as:n.b,href:"/calculomargem",to:"/calculomargem",children:"C\xe1lculo de Margem"}),Object(x.jsx)(d.a.Item,{as:n.b,href:"/prospeccao",to:"/prospeccao",children:"Prospec\xe7\xe3o de Clientes"})]}),Object(x.jsx)(d.a,{title:"Compras",show:g,onMouseEnter:function(){return N(!g)},onMouseLeave:function(){return N(!1)},active:$,children:Object(x.jsx)(d.a.Item,{as:n.b,href:"/dashcompras",to:"/dashcompras",children:"Dashboard de Compras"})}),Object(x.jsx)(d.a,{title:"Expedi\xe7\xe3o",show:w,onMouseEnter:function(){return y(!w)},onMouseLeave:function(){return y(!1)},active:H,children:Object(x.jsx)(d.a.Item,{href:"expedicao/aprovarpedidos",to:"/aprovarpedidos",children:"Aprova\xe7\xe3o de Pedidos"})}),Object(x.jsx)(d.a,{title:"Relat\xf3rios",show:I,onMouseEnter:function(){return M(!I)},onMouseLeave:function(){return M(!1)},active:Y,children:Object(x.jsx)(d.a.Item,{href:"/relatoriominmax",to:"/relatoriominmax",children:"Estoque M\xednimo e M\xe1ximo"})}),Object(x.jsx)(d.a,{title:"Cadastros",show:z,onMouseEnter:function(){return D(!z)},onMouseLeave:function(){return D(!1)},active:ae,children:Object(x.jsx)(d.a.Item,{href:"/produtos",to:"/produtos",children:"Produtos"})})]})}),Object(x.jsx)(o.a.Collapse,{className:"justify-content-end",children:Object(x.jsxs)(j.a,{className:"mr-auto",navbarScroll:!0,children:[Object(x.jsx)(u.l,{}),Object(x.jsx)(d.a,{className:"dropdown-user",title:Object(x.jsxs)("div",{className:"user-dropdown-div ",children:[Object(x.jsx)("div",{className:"m-0",children:Object(x.jsx)(u.l,{size:25})}),Object(x.jsx)("div",{className:"user-name",children:je})]}),show:V,onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},children:Object(x.jsxs)(d.a.Item,{onClick:function(){ie(!0),i.a.signOut().then((function(e){window.location.reload()})).catch((function(e){ie(!1)}))},children:[!ne&&Object(x.jsx)(x.Fragment,{children:"Sair"}),ne&&Object(x.jsxs)("div",{className:"user-menu-sair",children:[Object(x.jsx)("p",{children:"Sair"}),Object(x.jsx)(b.a,{animation:"grow",size:"sm"})]})]})})]})})]})]})})})}},221:function(e,t,a){"use strict";var s=a(18),c=a.n(s),r="development"===(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REGION:"sa-east-1",REACT_APP_USER_POOL_ID:"sa-east-1_KNPIRnW6Q",REACT_APP_USER_POOL_WEB_CLIENT_ID:"5tqcc1d7iv1vt8fg309nnfe8q7"}).REACT_APP_ENVIROMENT||"development")?"http://localhost:4005/api":"https://api.binx.com.br/api",n=c.a.create({baseURL:r});t.a=n},227:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(3);var s=a(4);function c(e){return Object(s.jsx)("div",{className:"d-grid gap-2",children:e.children})}},312:function(e,t,a){e.exports=function(){function e(r,n){if(!(this instanceof e))return new e(r,n);n=Object.assign({},a,n);var i=Math.pow(10,n.precision);this.intValue=r=t(r,n),this.value=r/i,n.increment=n.increment||1/i,n.groups=n.useVedic?c:s,this.s=n,this.p=i}function t(t,a){var s=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],c=a.decimal,r=a.errorOnInvalid,n=a.fromCents,i=Math.pow(10,a.precision),o=t instanceof e;if(o&&n)return t.intValue;if("number"===typeof t||o)c=o?t.value:t;else if("string"===typeof t)r=new RegExp("[^-\\d"+c+"]","g"),c=new RegExp("\\"+c,"g"),c=(c=t.replace(/\((.*)\)/,"-$1").replace(r,"").replace(c,"."))||0;else{if(r)throw Error("Invalid Input");c=0}return n||(c=(c*i).toFixed(4)),s?Math.round(c):c}var a={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:function(e,t){var a=t.pattern,s=t.negativePattern,c=t.symbol,r=t.separator,n=t.decimal;t=t.groups;var i=(""+e).replace(/^-/,"").split("."),o=i[0];return i=i[1],(0<=e.value?a:s).replace("!",c).replace("#",o.replace(t,"$1"+r)+(i?n+i:""))},fromCents:!1},s=/(\d)(?=(\d{3})+\b)/g,c=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(a){var s=this.s,c=this.p;return e((this.intValue+t(a,s))/(s.fromCents?1:c),s)},subtract:function(a){var s=this.s,c=this.p;return e((this.intValue-t(a,s))/(s.fromCents?1:c),s)},multiply:function(t){var a=this.s;return e(this.intValue*t/(a.fromCents?1:Math.pow(10,a.precision)),a)},divide:function(a){var s=this.s;return e(this.intValue/t(a,s,!1),s)},distribute:function(t){var a=this.intValue,s=this.p,c=this.s,r=[],n=Math[0<=a?"floor":"ceil"](a/t),i=Math.abs(a-n*t);for(s=c.fromCents?1:s;0!==t;t--){var o=e(n/s,c);0<i--&&(o=o[0<=a?"add":"subtract"](1/s)),r.push(o)}return r},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s;return"function"===typeof e?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e}()},358:function(e,t,a){"use strict";var s=a(24),c=a(44),r=a(212),n=a.n(r),i=a(3),o=a(213),l=a(4),j=["bsPrefix","bg","pill","text","className","as"],d=i.forwardRef((function(e,t){var a=e.bsPrefix,r=e.bg,i=e.pill,d=e.text,b=e.className,u=e.as,O=void 0===u?"span":u,h=Object(c.a)(e,j),x=Object(o.a)(a,"badge");return Object(l.jsx)(O,Object(s.a)(Object(s.a)({ref:t},h),{},{className:n()(b,x,i&&"rounded-pill",d&&"text-".concat(d),r&&"bg-".concat(r))}))}));d.displayName="Badge",d.defaultProps={bg:"primary",pill:!1},t.a=d},484:function(e,t,a){"use strict";var s=a(24),c=a(44),r=a(212),n=a.n(r),i=a(3),o=a(213),l=a(4),j=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=i.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,i=e.striped,d=e.bordered,b=e.borderless,u=e.hover,O=e.size,h=e.variant,x=e.responsive,m=Object(c.a)(e,j),p=Object(o.a)(a,"table"),f=n()(r,p,h&&"".concat(p,"-").concat(h),O&&"".concat(p,"-").concat(O),i&&"".concat(p,"-striped"),d&&"".concat(p,"-bordered"),b&&"".concat(p,"-borderless"),u&&"".concat(p,"-hover")),v=Object(l.jsx)("table",Object(s.a)(Object(s.a)({},m),{},{className:f,ref:t}));if(x){var g="".concat(p,"-responsive");return"string"===typeof x&&(g="".concat(g,"-").concat(x)),Object(l.jsx)("div",{className:g,children:v})}return v}));t.a=d},556:function(e,t,a){"use strict";a.r(t);var s=a(223),c=a.n(s),r=a(224),n=a(288),i=a(25),o=a(3),l=a(219),j=a(312),d=a.n(j),b=a(221),u=(a(313),a(314)),O=a(227),h=a(548),x=a(553),m=a(258),p=a(543),f=a(267),v=a(387),g=a(550),N=a(570),C=a(279),S=a(484),w=a(358),y=a(4),P=function(e,t){return d()(e,{precision:t})},E=function(e,t){return e.format({symbol:t}).replace(",","+").replace(".",",").replace("+",".")};t.default=function(){var e=Object(o.useState)("proposta"),t=Object(i.a)(e,2),a=t[0],s=t[1],j=Object(o.useState)(""),d=Object(i.a)(j,2),I=d[0],M=d[1],L=Object(o.useState)([]),_=Object(i.a)(L,2),z=_[0],D=_[1],R=Object(o.useState)([]),T=Object(i.a)(R,2),V=T[0],F=T[1],A=Object(o.useState)(0),k=Object(i.a)(A,2),G=k[0],U=k[1],B=Object(o.useState)(!1),$=Object(i.a)(B,2),q=$[0],K=$[1],W=Object(o.useState)(!1),H=Object(i.a)(W,2),J=H[0],Q=H[1],X=Object(o.useState)([]),Y=Object(i.a)(X,2),Z=Y[0],ee=Y[1],te=Object(o.useState)([]),ae=Object(i.a)(te,2),se=ae[0],ce=ae[1],re=Object(o.useState)(0),ne=Object(i.a)(re,2),ie=(ne[0],ne[1],Object(o.useRef)(null)),oe=function(){var e=Object(r.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),K(!0),Q(!1),ee([]),ce([]),null!=ie.current&&ie.current.reset(),s="proposta"===a?"margemproposta":"margempedido",e.next=9,b.a.post("/".concat(s,"/").concat(I)).then((function(e){D(e.data),F(e.data.itens),U(e.data.itens.length),Q(!0)})).catch((function(e){console.log("Erro ao carregar proposta/pedido:",e.message)}));case 9:K(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{logged:!0}),Object(y.jsx)(h.a,{fluid:!0,children:Object(y.jsxs)(x.a,{className:"flex-xl-nowrap",children:[Object(y.jsx)(m.a,{xs:12,md:3,lg:2,className:"p-0",children:Object(y.jsxs)(u.Drawer,{children:[Object(y.jsx)(u.Drawer.Toggle,{}),Object(y.jsx)(p.a,{children:Object(y.jsx)(u.Drawer.Overflow,{children:Object(y.jsxs)(u.Drawer.ToC,{children:[Object(y.jsx)(u.Drawer.Header,{className:"text-center",children:"C\xe1lculo de Margem"}),Object(y.jsxs)(u.Drawer.Nav,{children:[Object(y.jsx)(u.Drawer.Item,{children:Object(y.jsx)("hr",{className:"m-0 my-2"})}),Object(y.jsxs)(u.Drawer.Item,{children:[Object(y.jsx)("p",{className:"text-muted text-center",children:"Dados:"}),Object(y.jsxs)(f.a,{onSubmit:oe,children:[Object(y.jsxs)(f.a.Control,{as:"select",custom:!0,onChange:function(e){return s(e.target.value)},className:"mb-3",children:[Object(y.jsx)("option",{value:"proposta",children:"Proposta"}),Object(y.jsx)("option",{value:"pedido",disabled:!0,children:"Pedido"})]}),Object(y.jsx)(f.a.Control,{placeholder:"N\xfamero",onChange:function(e){M(e.target.value)},className:"mb-3"}),Object(y.jsx)(O.a,{children:Object(y.jsxs)(v.a,{variant:"primary",type:"submit",block:!0,children:[q&&Object(y.jsx)(g.a,{animation:"border",size:"sm",role:"status","aria-hidden":"true"}),!q&&Object(y.jsx)(y.Fragment,{children:"Carregar"})]})})]})]}),Object(y.jsx)(u.Drawer.Item,{children:Object(y.jsx)("hr",{className:"m-0 my-2"})}),J&&!q&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.Drawer.Item,{children:[Object(y.jsx)("p",{className:"text-muted text-center",children:"Altera\xe7\xf5es:"}),Object(y.jsx)(O.a,{children:Object(y.jsx)(v.a,{variant:"outline-success",block:!0,disabled:!0,children:"Salvar no Binx"})})]}),Object(y.jsx)(u.Drawer.Item,{children:Object(y.jsx)(O.a,{children:Object(y.jsx)(v.a,{variant:"outline-primary",block:!0,disabled:!0,children:"Exportar"})})})]})]})]})})})]})}),Object(y.jsxs)(m.a,{xs:12,md:9,lg:10,children:[Object(y.jsxs)(h.a,{fluid:!0,className:"mt-4",children:[Object(y.jsx)(N.a.Title,{className:"mt-2",children:"C\xe1lculo de Margem"}),Object(y.jsx)(N.a.Subtitle,{className:"my-2 text-muted",children:"Calcular margem sobre proposta comercial ou pedido de venda"}),!J&&!q&&Object(y.jsx)(C.a,{variant:"warning",className:"mt-3",children:"Selecione o tipo de c\xe1lculo a ser realizado e carregue o pedido ou proposta para visualizar os resultados"})]}),!J&&q&&Object(y.jsx)(h.a,{fluid:!0,className:"text-center mt-4",children:Object(y.jsx)(g.a,{animation:"border",size:"md",role:"status","aria-hidden":"true"})}),Object(y.jsx)(N.a.Body,{children:J&&!q&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{className:"m-0 mb-4"}),Object(y.jsxs)(h.a,{fluid:!0,className:"p-0",children:[Object(y.jsxs)("h5",{children:["Dados"," ","proposta"===a?"da Proposta":"do Pedido de Venda"]}),Object(y.jsxs)("p",{className:"text-muted",children:["Dados referentes"," ","proposta"===a?"a proposta comercial":"ao pedido de compra"]})]}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Proposta:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:z.numeroProposta,readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:6,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Cliente:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:z.cliente,readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Vendedor:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:z.vendedor,readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Situa\xe7\xe3o:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:z.situacao,readOnly:!0})]})})]}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Quantidade de Itens:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:G,readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Valor dos itens:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:E(P(z.subTotal,2),"R$"),readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Valor do Frete:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:E(P(z.frete,2),"R$"),readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Total da Proposta:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:E(P(z.total,2),"R$"),readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Margem Salva:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:"",readOnly:!0})]})}),Object(y.jsx)(m.a,{sm:2,children:Object(y.jsxs)(f.a.Group,{children:[Object(y.jsx)(f.a.Label,{className:"text-muted",children:"Margem Atual:"}),Object(y.jsx)(f.a.Control,{size:"sm",value:"",readOnly:!0})]})})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)(h.a,{className:"mb-4 p-0",children:[Object(y.jsxs)("h5",{children:["Itens"," ","proposta"===a?"da Proposta":"do Pedido de Venda"]}),Object(y.jsxs)("p",{className:"text-muted",children:["Itens presentes"," ","proposta"===a?"na Proposta Comercial":"no Pedido de Compra"]})]}),Object(y.jsx)(f.a,{ref:ie,children:Object(y.jsxs)(S.a,{hover:!0,size:"sm",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),Object(y.jsx)("th",{children:"SKU"}),Object(y.jsx)("th",{children:"Item"}),Object(y.jsx)("th",{children:"Qntd"}),Object(y.jsx)("th",{children:"Pre\xe7o Lista"}),Object(y.jsx)("th",{children:"Desc %"}),Object(y.jsx)("th",{children:"Pre\xe7o Un"}),Object(y.jsx)("th",{children:"Pre\xe7o Total"}),Object(y.jsx)("th",{children:"Custo Un."}),Object(y.jsx)("th",{children:"Custo Total"}),Object(y.jsx)("th",{children:"Margem"})]})}),Object(y.jsx)("tbody",{children:V.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)(w.a,{bg:"secondary",children:t+1})}),Object(y.jsx)("td",{children:e.sku}),Object(y.jsx)("td",{children:e.nome}),Object(y.jsx)("td",{children:e.quantidade}),Object(y.jsx)("td",{children:E(P(e.precoLista,3),"")}),Object(y.jsx)("td",{children:e.descontoItem.replace(".",",")}),Object(y.jsx)("td",{children:E(P(e.valorUnidade,3),"")}),Object(y.jsx)("td",{children:E(P(e.valorUnidade,2).multiply(e.quantidade),"")}),Object(y.jsx)("td",{children:Object(y.jsx)(f.a.Control,{size:"sm",type:"text",htmlSize:"6",onChange:function(e){return function(e,t){t=t.replace(",",".");var a=Object(n.a)(Z),s=Object(n.a)(se);a[e]=t;var c=V[e].valorUnidade,r=a[e],i=parseFloat((c-r)/c*100).toFixed(2);s[e]=i,ee(a),ce(s)}(t,e.target.value)}})}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{children:Object(y.jsx)(f.a.Control,{size:"sm",type:"text",htmlSize:"6",readOnly:!0,value:void 0==se[t]?"":se[t]+"%"})})]},t)}))})]})})]})})]})]})})]})}}}]);
//# sourceMappingURL=15.91419d89.chunk.js.map